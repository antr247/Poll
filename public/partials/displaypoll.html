<div class="page header" ng-model="poll">
	<h1>View Poll</h1>
</div>

	<div class="well well-lg">
		<strong>Question:</strong><br>{{poll.question}}
	</div>

<div ng-hide="poll.userVoted">

	<p class="lead">Please select one of the following choices:</p>

	<form role="form">
		<div ng-repeat="choice in poll.choices" class="radio">
			<label>
				<input type="radio" name="choice" ng-model="polls.userVote" value="{{choice._id}}">
				{{choice.text}}
			</label>
		</div>
		<p><hr></p>
		<div class="row">
			<div class="col-xs-6">
				<a href="#/home" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> Back to Poll List</a><br><br>
				<a href="#/result/{{poll._id}}" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span> View Result</a>

			</div>
			<div class="col-xs-6">
				<button class="btn btn-primary pull-right" ng-click="voteNow()">Vote &raquo;</button>
			</div>
		</div>
	</form>

</div>


<div ng-show="poll.userVoted">
	<table class="result-table">
		<tr ng-repeat="choice in poll.choices">
			<td>{{choice.text}}</td>
			<td>
				<table style="background-color: lightblue; width: {{(choice.votes.length/poll.totalVotes)*100}}%; text-align: right">
					<tr><td>{{choice.votes.length}}</td></tr>
				</table>
			</td>
		</tr>
	</table>

	<p>

		<em>
			{{poll.totalVotes}} votes counted so far.
			<span ng-show="poll.userChoice">You voted for <strong>
			{{polls.userChoice.text}}</strong></span>
		</em>
	</p>

	<p><hr></p>

	<p><a href="#/home" class="btn btn-default" role="button"><span class="glyphicon glyphicon-arrow-left"></span>Back to Poll List</a>
	</p>
</div>

<p>&nbsp;</p>